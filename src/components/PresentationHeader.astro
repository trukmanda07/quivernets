---
/**
 * PresentationHeader.astro
 * Main orchestrator for presentation header
 * Refactored: Week 3 decomposition (Nov 2025)
 */

import { getLangFromUrl } from '../utils/i18n';
import NavigationMenu from './presentation-header/NavigationMenu.astro';
import MobileNav from './presentation-header/MobileNav.astro';
import PresentationActions from './presentation-header/PresentationActions.astro';

interface Props {
  title: string;
  relatedBlogPost?: string;
  language?: string;
  slug?: string;
}

const {
  title,
  relatedBlogPost,
  language = 'en',
  slug
} = Astro.props;

// Get language from URL
const pathname = Astro.url.pathname;
const currentLang = getLangFromUrl(pathname) || language;
---

<div class="presentation-header bg-white text-gray-800 shadow-md">
  <div class="header-container">
    <div class="header-top">
      <!-- Mobile Menu Button + Desktop Navigation -->
      <MobileNav currentLang={currentLang} />
      <NavigationMenu currentLang={currentLang} />

      <!-- Title -->
      <h1 class="header-title">{title}</h1>

      <!-- Actions: Blog link, Share, Language -->
      <PresentationActions
        relatedBlogPost={relatedBlogPost}
        currentLang={currentLang}
        slug={slug}
      />
    </div>
  </div>
</div>

<style src="./presentation-header/styles/presentation-header.css"></style>
